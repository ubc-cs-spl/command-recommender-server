"use strict";angular.module("frontEndApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/command_detail/:userId",{templateUrl:"views/command_detail.html",controller:"CommandDetailController"}).when("/:userId",{redirectTo:"/recommendations/:userId/current"}).when("/recommendations/:userId/:current",{templateUrl:"views/main.html",controller:"RecommendationController"}).when("/",{templateUrl:"views/invalid-user.html"}).otherwise({redirectTo:"/"})}]).filter("offset",function(){return function(a,b){return b=parseInt(b,10),a.slice(b)}}),angular.module("frontEndApp").controller("RecommendationController",["$scope","$http","$routeParams","$location",function(a,b,c,d){function e(){b.get("/api/get_recommendations/"+c.userId+"/"+c.current).success(function(b){a.recommendations=b}).error(function(){d.url("/")})}a.recommendations={},a.filterParams={},e(),a.markAsUseful=function(c,d){var e=a.recommendations[d];b.get("/api/mark_recommendation/"+e.id,{params:{useful:c}}).success(function(){e.useful=c})},a.saveRecommendation=function(c,d){var e=a.recommendations[d];b.get("/api/save_recommendation/"+e.id,{params:{saved:c}}).success(function(){e.saved=c})},a.isUsefulSelected=function(a){return null==a?!1:a},a.isNotUsefulSelected=function(a){return null==a?!1:!a}}]),angular.module("frontEndApp").controller("NavigationController",["$scope","$routeParams",function(a,b){a.userId=b.userId,a.current=b.current}]),angular.module("frontEndApp").controller("CommandDetailController",["$scope","$http",function(a,b){a.results=null,a.commandUnderEdit=null,a.show="hidden",a.saved=!1,a.failedToSave=!1,a.filter="no_details",a.currentPage=0,a.itemsPerPage=10,a.search=function(){b.get("api/command_details/filter/command_id",{params:{filter_value:a.searchValue,filter:a.filter}}).success(function(b){a.results=b})},a.showCommand=function(c){b.get("api/command_details/"+c+"/show").success(function(b){a.commandUnderEdit=b,a.saved=!1,a.failedToSave=!1})},a.saveCommand=function(){return a.commandUnderEdit?void b.post("api/command_details/"+a.commandUnderEdit.id+"/update/",{command_name:a.commandUnderEdit.command_name,description:a.commandUnderEdit.description,shortcut:a.commandUnderEdit.shortcut}).success(function(){a.saved=!0}).error(function(){a.failedToSave=!0}):void(a.failedToSave=!0)},a.prevPage=function(){a.currentPage>0&&a.currentPage--},a.prevPageDisabled=function(){return 0===a.currentPage?"disabled":""},a.pageCount=function(){return Math.ceil(a.results.length/a.itemsPerPage)-1},a.nextPage=function(){a.currentPage<a.pageCount()&&a.currentPage++},a.nextPageDisabled=function(){return a.currentPage===a.pageCount()?"disabled":""},a.setPage=function(b){a.currentPage=b},a.range=function(){var b=10,c=[],d=1,e=b;a.currentPage-b/2>0&&(d=a.currentPage-b/2),a.currentPage+b/2>b&&(e=a.currentPage+b/2),e>a.pageCount()&&(e=a.pageCount);for(var f=d;e>f;f++)c.push(f);return c},a.open=function(){a.showModal=!0},a.cancel=function(){a.showModal=!0}}]);